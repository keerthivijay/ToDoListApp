(this.webpackJsonppurpleslate=this.webpackJsonppurpleslate||[]).push([[0],{25:function(t,e,s){},26:function(t,e,s){},31:function(t,e,s){"use strict";s.r(e);var a=s(3),i=s(7),o=s.n(i),n=s(18),c=s.n(n),l=(s(25),s.p,s(26),s(13)),r=s(14),d=s(9),h=s(10),u=s(12),m=s(11),j=function(t){Object(u.a)(s,t);var e=Object(m.a)(s);function s(){var t;Object(d.a)(this,s);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).openToDo=function(t){var e=document.getElementById(t).getElementsByClassName("list-item-task")[0];-1===e.className.indexOf("show")?e.className+=" show":e.className=e.className.replace(" show","")},t.doneToDo=function(t){var e=document.getElementById(t).getElementsByClassName("task-item-title")[0];-1===e.className.indexOf("done")?e.className+=" done":e.className=e.className.replace(" done","")},t}return Object(h.a)(s,[{key:"render",value:function(){var t=this;return console.log(this.props),Object(a.jsxs)("div",{className:"list-item",id:this.props.id,children:[Object(a.jsxs)("div",{className:"list-main",children:[Object(a.jsx)("div",{className:"task-item-title",onClick:function(){return t.openToDo(t.props.id)},children:this.props.title}),Object(a.jsxs)("div",{className:"actions",children:[Object(a.jsx)("div",{className:"list-edit-button",onClick:this.props.editToDo,children:Object(a.jsx)("i",{className:"fas fa-pencil-alt",title:"Edit"})}),Object(a.jsx)("div",{className:"list-edit-button",onClick:function(){return t.doneToDo(t.props.id)},children:Object(a.jsx)("i",{className:"fas fa-check",title:"Done"})}),Object(a.jsx)("div",{className:"list-edit-button",onClick:this.props.deleteToDo,children:Object(a.jsx)("i",{className:"fas fa-minus-circle",title:"Remove"})})]})]}),Object(a.jsx)("div",{className:"list-item-task",children:this.props.task})]})}}]),s}(i.Component),f=function(t){return Object(a.jsxs)("div",{className:"container",children:[Object(a.jsxs)("header",{children:[Object(a.jsx)("i",{className:"fas fa-list-ul"})," To-Do List"]}),Object(a.jsxs)("nav",{id:"mySidenav",className:"sidenav",children:[Object(a.jsx)("a",{href:"#",className:"closebtn",onClick:function(){document.getElementById("mySidenav").style.width="0",document.getElementById("main").style.marginLeft="0 auto"},children:"\xd7"}),Object(a.jsx)("a",{href:"#",children:"Home"}),Object(a.jsx)("a",{href:"#",children:"Settings"})]}),Object(a.jsx)("main",{id:"main",children:t.children}),Object(a.jsx)("footer",{children:"@ Copyrights: keerthivijay89@gmail.com"})]})},b=s(19).a.initializeApp({apiKey:"AIzaSyCroOlhXHWE_4moYl1OOSDMsYX2DkwaLhM",authDomain:"todo-list-53f5c.firebaseapp.com",databaseURL:"https://todo-list-53f5c.firebaseio.com",projectId:"todo-list-53f5c",storageBucket:"todo-list-53f5c.appspot.com",messagingSenderId:"1057003931463",appId:"1:1057003931463:web:ad9a72050e9587132f6e62"}).database().ref(),p=function(t){return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"loader"}),Object(a.jsx)("div",{children:t.children})]})},v=function(t){Object(u.a)(s,t);var e=Object(m.a)(s);function s(t){var a;return Object(d.a)(this,s),(a=e.call(this,t)).state={title:"",task:"",todolist:{},editItem:"",firebaseEditId:"",editAction:!1,loading:!0,hasError:!1,search:"",validation:{title:{error:!1,touched:!1,errorMsg:""}}},a.componentDidMount=function(){a.titleRef.current.focus(),console.log(a.titleRef),b.on("value",(function(t){null!=t.val()&&a.setState(Object(r.a)(Object(r.a)({},a.state),{},{todolist:t.val(),loading:!1}))}))},a.handleFormChange=function(t){var e,s=a.validate(t);console.log(s),a.setState((e={},Object(l.a)(e,t.target.name,t.target.value),Object(l.a)(e,"validation",s),e)),console.log(a.state)},a.validate=function(t){return console.log(t.target.name,t.target.value),"title"===t.target.name&&""===t.target.value?Object(l.a)({},t.target.name,{touched:!0,errorMsg:"please enter valid data",error:!0}):{title:{error:!1,touched:!1,errorMsg:""}}},a.submitHandler=function(t){if(t.preventDefault(),a.titleRef.current.focus(),""===a.state.title)return!1;a.state.editAction?a.updateToDo():(b.push({title:a.state.title,task:a.state.task},(function(t){console.log(t)})),a.setState({title:"",task:""}))},a.editToDo=function(t){a.setState({title:a.state.todolist[t].title,task:a.state.todolist[t].task,editItem:t,editAction:!0})},a.updateToDo=function(){b.child("/"+a.state.editItem).update({title:a.state.title,task:a.state.task},(function(t){console.log(t)}));var t=Object(r.a)({},a.state);t.todolist[a.state.editItem]={title:a.state.title,task:a.state.task},t.editAction=!1,t.title="",t.task="",t.editItem="",a.setState(t)},a.deleteToDo=function(t){if(!window.confirm("Do You want to delete?"))return!1;b.child("/"+t).remove((function(t){console.log(t)}));var e=Object(r.a)({},a.state);delete e.todolist[t],a.setState(e)},a.search=function(t){a.setState({search:t.target.value}),console.log(a.state)},a.titleRef=o.a.createRef(),a}return Object(h.a)(s,[{key:"render",value:function(){var t=this,e=Object.keys(this.state.todolist).filter((function(e){return""===t.state.search||t.state.todolist[e].title.toLowerCase().includes(t.state.search.toLowerCase())||t.state.todolist[e].task.toLowerCase().includes(t.state.search.toLowerCase())?t.state.todolist[e]:void 0})).map((function(e){return console.log(t.state.todolist),console.log(t.state.todolist[e]),Object(a.jsx)(j,{id:e,editToDo:function(){return t.editToDo(e)},ref:e,title:t.state.todolist[e].title,task:t.state.todolist[e].task,editbutton:t.editToDo,deleteToDo:function(){return t.deleteToDo(e)}},e)}));return 0===e.length&&(e="No data found!"),this.state.loading&&(e=Object(a.jsx)(p,{children:"Please Wait..."})),Object(a.jsxs)(f,{children:[Object(a.jsxs)("form",{onSubmit:this.submitHandler,method:"POST",className:"to-do-form",children:[Object(a.jsxs)("div",{className:"form-element",children:[Object(a.jsx)("input",{type:"text",name:"title",ref:this.titleRef,value:this.state.title,onChange:this.handleFormChange,placeholder:"Title"}),Object(a.jsx)("span",{className:"error-info",children:this.state.validation.title.errorMsg})]}),Object(a.jsx)("div",{className:"form-element",children:Object(a.jsx)("input",{type:"text",name:"task",value:this.state.task,onChange:this.handleFormChange,placeholder:"Task (Optional)"})}),Object(a.jsx)("div",{className:"form-element",children:Object(a.jsx)("button",{type:"submit",name:"submit",value:"Submit",children:Object(a.jsxs)("i",{class:"fas fa-plus-circle",children:[" ",""===this.state.editItem?"ADD":"UPDATE"," "]})})})]}),this.state.loading?"":Object(a.jsx)("div",{className:"search-bar",children:Object(a.jsx)("input",{type:"text",name:"search",placeholder:"Search",value:this.state.search,onChange:this.search})}),Object(a.jsx)("div",{className:"list-items",children:e})]})}}]),s}(i.Component),O=function(t){Object(u.a)(s,t);var e=Object(m.a)(s);function s(){var t;Object(d.a)(this,s);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).state={hasError:!1},t.getLogService=console.log,t}return Object(h.a)(s,[{key:"componentDidCatch",value:function(t,e){console.log(t),console.log(e),this.getLogService(t.toString(),e.componenetstack)}},{key:"render",value:function(){var t="";return t=this.state.hasError?Object(a.jsx)("div",{className:"error-message",children:"'Something went wrong! Please wait...'"}):this.props.children,Object(a.jsx)("div",{children:t})}}],[{key:"getDerivedStateFromError",value:function(t){return{hasError:!0}}}]),s}(s(7).Component);var g=function(){return Object(a.jsx)("div",{className:"App",children:Object(a.jsx)(O,{children:Object(a.jsx)(v,{})})})},x=function(t){t&&t instanceof Function&&s.e(3).then(s.bind(null,32)).then((function(e){var s=e.getCLS,a=e.getFID,i=e.getFCP,o=e.getLCP,n=e.getTTFB;s(t),a(t),i(t),o(t),n(t)}))};c.a.render(Object(a.jsx)(o.a.StrictMode,{children:Object(a.jsx)(g,{})}),document.getElementById("root")),x()}},[[31,1,2]]]);
//# sourceMappingURL=main.0a91fa5d.chunk.js.map